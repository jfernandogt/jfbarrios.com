!function(a){"use strict";window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)}}(),a(document).ready(function(){function d(){k=j.width(),l=j.height(),c=document.getElementById("particles"),c.width=k,c.height=l,m=c.getContext("2d"),n=[];for(var a=0;.3*k>a;a++){var b=new i;n.push(b)}h()}function e(){window.addEventListener("scroll",f),window.addEventListener("resize",g)}function f(){o=document.body.scrollTop>l?!1:!0}function g(){k=j.width(),l=j.height(),c.width=k,c.height=l}function h(){if(o){m.clearRect(0,0,k,l);for(var a in n)n[a].draw()}requestAnimationFrame(h)}function i(){function b(){a.pos.x=Math.random()*k,a.pos.y=l+100*Math.random(),a.alpha=.1+.3*Math.random(),a.scale=.1+.3*Math.random(),a.velocity=Math.random()}var a=this;!function(){a.pos={},b()}(),this.draw=function(){a.alpha<=0&&b(),a.pos.x+=a.velocity,a.pos.y-=a.velocity,a.alpha-=5e-4,m.beginPath(),m.arc(a.pos.x,a.pos.y,10*a.scale,0,2*Math.PI,!1),m.fillStyle="rgba(255,255,255,"+a.alpha+")",m.fill()}}function r(b){b.each(function(){var b=a(this),c=b.text().split(""),d=b.hasClass("is-visible");for(var e in c)c[e]="<em>"+c[e]+"</em>",c[e]=d?'<i class="in">'+c[e]+"</i>":"<i>"+c[e]+"</i>";var f=c.join("");b.html(f).css("opacity",1)})}function s(a){return a.is(":last-child")?a.parent().children().eq(0):a.next()}function t(a,b){a.removeClass("is-visible").addClass("is-hidden"),b.removeClass("is-hidden").addClass("is-visible")}function u(b,c,d,e){if(b.removeClass("in").addClass("out"),b.is(":last-child")?d&&setTimeout(function(){w(s(c))},p):setTimeout(function(){u(b.next(),c,d,e)},e),b.is(":last-child")&&a("html").hasClass("no-csstransitions")){var f=s(c);t(c,f)}}function v(a,b,c,d){a.addClass("in").removeClass("out"),a.is(":last-child")?c||setTimeout(function(){w(b)},p):setTimeout(function(){v(a.next(),b,c,d)},d)}function w(a){var b=s(a),c=a.children("i").length>=b.children("i").length?!0:!1;u(a.find("i").eq(0),a,c,q),v(b.find("i").eq(0),b,c,q)}function x(b){var c=p;b.each(function(){var b=a(this);setTimeout(function(){w(b.find(".is-visible").eq(0))},c)})}function y(){r(a(".animated-letters").find("b")),x(a(".animated-letters"))}function z(){var b=a("body").innerWidth();a('section[class*="section-bg"]').each(function(){(a(this).hasClass("section-top-rise")||a(this).hasClass("section-top-fall"))&&a(this).append('<div class="before" style="border-left-width:'+b+'px" />'),(a(this).hasClass("section-bottom-rise")||a(this).hasClass("section-bottom-fall"))&&a(this).append('<div class="after" style="border-right-width:'+b+'px" />')})}function A(){var b=a("body").innerWidth();a('section[class*="section-bg"]').each(function(){(a(this).hasClass("section-top-rise")||a(this).hasClass("section-top-fall"))&&a(".before",this).css("border-left-width",b),(a(this).hasClass("section-bottom-rise")||a(this).hasClass("section-bottom-fall"))&&a(".after",this).css("border-right-width",b)})}(new WOW).init();var b="particles",c=document.getElementById(b);if(c){var j,k,l,m,n,o=!0;j=a(a("#intro .bg").length>0?"#intro .bg":"#intro"),d(),e()}var p=3e3,q=100;y(),a(".btn-nav").click(function(){a(".main-nav").toggleClass("main-nav--visible")}),a(".main-nav nav").onePageNav({easing:"swing",scrollSpeed:500,filter:":not(.external)"}),a(document).on("click",".btn-go",function(b){b.preventDefault();var c=a(this).attr("href"),d=a(c).offset();a("html,body").animate({scrollTop:d.top},500)}),a(".skills .skills-item, .bars .bars-item").each(function(){var b=a(this).data("progress");a(this).css("width",b+"%")}),a(".works").shuffle({itemSelector:".works-item",gutterWidth:30}),a(".filter li").on("click",function(){var b=a(this),c=b.hasClass("active"),d=c?"all":b.data("group");c||a(".filter .active").removeClass("active"),b.toggleClass("active"),a(".works").shuffle("shuffle",d)}),a(".filtered .works-item-link").magnificPopup({type:"inline",gallery:{enabled:!0},mainClass:"unica",removalDelay:300}),a(".slideshow").owlCarousel({singleItem:!0,autoPlay:!0,theme:"owl-unica",transitionStyle:"UnicaAnim",navigationText:["\uf053","\uf054"]}),a(".clients").owlCarousel({items:5,autoPlay:!0,theme:"owl-unica",pagination:!1}),a(".contact-form").validate({errorClass:"input--error",validClass:"input--success",errorPlacement:function(){return!0},highlight:function(b,c){a(b).parents(".input").addClass(c)},unhighlight:function(b,c){a(b).parents(".input").removeClass(c)},rules:{email:{email:!0}}}),a(".contact-form").submit(function(b){b.preventDefault();var c=a(this),d=c.find('input[type="submit"]');if(c.valid()){var e=c.serialize();d.before('<div class="loader"></div>'),a.ajax({type:c.attr("method"),url:c.attr("action"),data:e,success:function(){d.before('<div class="message message-success">Tu mensaje ha sido enviado correctamente!</div>')},error:function(){d.before('<div class="message message-error">Tu mensaje no pudo ser enviado, intenta despu\xe9s.</div>')},complete:function(){c.find(".loader").remove(),c.find(".message").fadeIn(),setTimeout(function(){c.find(".message").fadeOut(function(){a(this).remove()})},5e3)}})}}),a(".input-field-item").each(function(){var b=a(this).parents(".input");""!==a(this).val()&&(a.trim(a(this).val()),b.addClass("input--filled")),a(this).on("focus",function(){b.addClass("input--focused input--filled")}),a(this).on("blur",function(){b.removeClass("input--focused"),""===a.trim(a(this).val())&&b.removeClass("input--filled")})}),a(".tabs-nav li").on("click",function(b){b.preventDefault();var c=a(this).index();a(this).addClass("active").siblings().removeClass("active").end().parents(".tabs").find(".tabs-item").eq(c).addClass("tabs-item-active").siblings().removeClass("tabs-item-active")}),a("html").hasClass("lte-ie9")&&(z(),a(window).on("resize",function(){A()}))}),function(){for(var a=0,b=["webkit","moz"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b,c){var d=(new Date).getTime(),e=Math.max(0,16-(d-a)),f=window.setTimeout(function(){b(d+e)},e);return a=d+e,f},window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)}))}()}(jQuery);